# Zsh Hotkeys
# All keybindings in one place
# Widgets are defined in .zsh_widgets, this file just binds them
#
# Pattern Convention:
#   ^x^_ (Ctrl+X, Ctrl+key) = Editor/buffer manipulation commands
#   ^x_  (Ctrl+X, key)      = External tool commands (git, docker, npm, etc.)

# ============================================================================
# EDITOR / BUFFER COMMANDS (Ctrl+X, Ctrl+key — keep Ctrl held)
# ============================================================================

# Edit command in $EDITOR
bindkey '^x^e' edit-command-line

# Clipboard operations
bindkey '^x^c' copy-buffer-to-clipboard  # Copy current buffer
bindkey '^x^o' copy-last-output          # Re-run last cmd, copy output

# Buffer manipulation
bindkey '^x^l' clear-screen-keep-buffer  # Clear screen, keep buffer
bindkey '^x^s' prepend-sudo              # Prepend sudo
bindkey "^x^'" quote-line                # Wrap in single quotes

# Tip of the Day
bindkey '^x^,' totd-snooze               # Snooze tip for 30 days
bindkey '^x^.' totd-remove               # Remove tip permanently

# ============================================================================
# EXTERNAL TOOL COMMANDS (Ctrl+X, key — release Ctrl, then key)
# ============================================================================

# Git
bindkey -s '^xg' 'git commit -m ""\C-b'           # Cursor inside quotes
bindkey -s '^xp' 'git push origin '               # Ready for branch name

# Docker
bindkey -s '^xd' 'docker exec -it  bash\C-b\C-b\C-b\C-b\C-b'  # Cursor after -it

# Node/TypeScript
bindkey -s '^xn' 'npm run '                       # Ready for script name
bindkey -s '^xt' 'npm test '                      # Quick test
bindkey -s '^xb' 'npm run build'                  # Quick build

# Python
bindkey -s '^xu' 'uv run '                        # Ready for command

# Elixir
bindkey -s '^xm' 'mix '                           # Ready for task
bindkey -s '^xi' 'iex -S mix'                     # REPL with project

# Editor
bindkey -s '^xv' 'nvim .\C-b'                     # Open nvim in cwd
